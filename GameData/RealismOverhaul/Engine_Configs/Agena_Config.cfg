//Agena engine
//FASA
//Sources:
//(1) Agena Payload Users Handbook
//(2) Shuttle/Agena study Vol 1 - http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/19720013175.pdf
//(3) NASA Aegna D Mission Capabilities and Restraints Catalog Vol 2 - http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/19660009137.pdf
@PART[*]:HAS[#engineType[Agena]]:FOR[RealismOverhaulEngines]
{
	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEngines
		configuration = Bell-8247
		modded = false
		CONFIG
		{
			name = Bell-8048
			description = Used on Agena A
			maxThrust = 67 //15 klbf
			minThrust = 67
			heatProduction = 100
			PROPELLANT
			{
				name = UDMH
				ratio = 0.451
			}
			PROPELLANT
			{
				name = IRFNA-III
				ratio = 0.549
				DrawGauge = True
			}
			atmosphereCurve
			{
				key = 0 276
				key = 1 100
			}
			ullage = True
			pressureFed = False
			ignitions = 1
			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}
		}
		CONFIG
		{
			name = Bell-8081
			description = Used on Agena B, can restart once.
			maxThrust = 71 //16 klbf
			minThrust = 71
			heatProduction = 100
			PROPELLANT
			{
				name = UDMH
				ratio = 0.449
			}
			PROPELLANT
			{
				name = IRFNA-III
				ratio = 0.551
				DrawGauge = True
			}
			atmosphereCurve
			{
				key = 0 285
				key = 1 100
			}
			ullage = True
			pressureFed = False
			ignitions = 2
			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.2
			}
		}

		CONFIG
		{
			name	       = Bell-8096
			description    = Used on Agena D, which eliminated ullage requirement.
			maxThrust      = 71 //16 klbf
			minThrust      = 71
			heatProduction = 100
			ullage 	       = False //(1) p 1-4
			pressureFed    = False
			ignitions      = 2

			PROPELLANT
			{
				name	  = UDMH
				ratio	  = 0.449
				DrawGauge = False
			}

			PROPELLANT
			{
				name	  = IRFNA-III
				ratio	  = 0.551
				DrawGauge = True
			}

			atmosphereCurve
			{
				key = 0 291
				key = 1 100
			}

			IGNITOR_RESOURCE
			{
				name   = ElectricCharge
				amount = 0.2
			}
		}
		
		CONFIG
		{
			name	       = Bell-8096-39
			description    = Used on late Agena D / Ascent Agena, can restart once.
			maxThrust      = 76 //17 klbf
			minThrust      = 76
			heatProduction = 100
			ullage 	       = False //(1) p 1-4
			pressureFed    = False
			ignitions      = 2

			PROPELLANT
			{
				name	  = UDMH
				ratio	  = 0.4838
				DrawGauge = False
			}

			PROPELLANT
			{
				name	  = IRFNA-IV
				ratio	  = 0.5161
				DrawGauge = True
			}

			atmosphereCurve
			{
				key = 0 300
				key = 1 100
			}

			IGNITOR_RESOURCE
			{
				name   = ElectricCharge
				amount = 0.2
			}
		}

		CONFIG
		{
			name = Bell-8247
			description = Used on Gemini Agena Target Vehicle, capable of multiple restarts.
			maxThrust = 71 //16 klbf
			minThrust = 71 //16 klbf
			heatProduction = 100
			PROPELLANT
			{
				name = UDMH
				ratio = 0.449
			}
			PROPELLANT
			{
				name = IRFNA-III
				ratio = 0.551
				DrawGauge = True
			}
			atmosphereCurve
			{
				key = 0 291
				key = 1 100
			}
			ullage = False //(3) p 14-7
			pressureFed = False
			ignitions = 15 //(2) p 1-1, (3) p 14-7
			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.050
			}
		}
	}
}
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[Bell-8048]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
	TESTFLIGHT
	{
		name = Bell-8048
		ratedBurnTime = 120
		// pump-fed, so failure is as likely to be ignition as during runtime
		ignitionReliabilityStart = 0.85
		ignitionReliabilityEnd = 0.92
		ignitionDynPresFailMultiplier = 0.1
		cycleReliabilityStart = 0.85
		cycleReliabilityEnd = 0.92
		techTransfer = 
		reliabilityDataRateMultiplier = 1
	}
}
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[Bell-8081]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
	TESTFLIGHT
	{
		name = Bell-8081
		ratedBurnTime = 240
		// pump-fed, so failure is as likely to be ignition as during runtime
		ignitionReliabilityStart = 0.88
		ignitionReliabilityEnd = 0.93
		ignitionDynPresFailMultiplier = 0.1
		cycleReliabilityStart = 0.89
		cycleReliabilityEnd = 0.94
		techTransfer = Bell-8048:50
		reliabilityDataRateMultiplier = 1
	}
}
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[Bell-8096]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
	TESTFLIGHT
	{
		name = Bell-8096
		ratedBurnTime = 240
		// pump-fed, so failure is as likely to be ignition as during runtime
		ignitionReliabilityStart = 0.9
		ignitionReliabilityEnd = 0.97
		ignitionDynPresFailMultiplier = 0.1
		cycleReliabilityStart = 0.92
		cycleReliabilityEnd = 0.98
		techTransfer = Bell-8048,Bell-8081:50
		reliabilityDataRateMultiplier = 1
	}
}
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[Bell-8247]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
	TESTFLIGHT
	{
		name = Bell-8247
		ratedBurnTime = 240
		// pump-fed, so failure is as likely to be ignition as during runtime
		ignitionReliabilityStart = 0.95
		ignitionReliabilityEnd = 0.99
		ignitionDynPresFailMultiplier = 0.1
		cycleReliabilityStart = 0.96
		cycleReliabilityEnd = 0.993
		techTransfer = Bell-8048,Bell-8081,Bell-8096:50
		reliabilityDataRateMultiplier = 1
	}
}
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[Bell-8096-39]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
	TESTFLIGHT
	{
		name = Bell-8096-39
		ratedBurnTime = 240
		// pump-fed, so failure is as likely to be ignition as during runtime
		ignitionReliabilityStart = 0.96
		ignitionReliabilityEnd = 0.993
		ignitionDynPresFailMultiplier = 0.1
		cycleReliabilityStart = 0.965
		cycleReliabilityEnd = 0.994
		techTransfer = Bell-8048,Bell-8081,Bell-8096,Bell-8247:50
		reliabilityDataRateMultiplier = 1
	}
}
