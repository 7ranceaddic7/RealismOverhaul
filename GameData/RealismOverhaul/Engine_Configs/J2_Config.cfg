//  =================================================================================
//  J-2 Series Engines
//
//	GLOBAL SETTINGS
//	Burn Time: 580 s
//	Nozzle Diameter: 2.05105 m
//	Length: 3.3782 m
//	Dry Mass: 1662.415 kg
//	Gimbal: 7.5
//	Propellant: LH2 and LOX
//	Throttle: 77% to 100%
//	Nozzle Area Ratio: 27.5
//  =================================================================================
//	
//	J-2 200K
//	Used on SA-201 through SA-203
//	Thrust (vac): 889.644 kN
//	ISP (vac): 418 s
//	O/F Ratio: 5.0
//  =================================================================================
//
//	J-2 225K
//	Used on SA-204 to SA-207 & SA-501 to SA-503
//	Thrust (vac): 1000.8495 kN
//	ISP (vac): 424.2 s
//	O/F Ratio: 5.5
//  =================================================================================
//
//	J-2 230K
//	Used on SA-208 and later (Apollo 8)
//	Thrust (sl): 717.94271 kN	Source #6
//	Thrust (vac): 1023.0906 kN
//	ISP (vac): 424.5 s
//	O/F Ratio: 5.5
//	Chamber Pressure: 717 psi
//
//  =================================================================================
//
//	J-2S
//	
//	Thrust (sl): 876.29934 kN	Source #6
//	Thrust (vac): 1178.7783 kN
//	ISP (sl): 320
//	ISP (vac): 436
//	O/F Ratio: 5.5
//	Chamber Pressure: 1200 psi
//	Area Ratio: 40
//	Engine Mass: 1723.65 kg
//	Chamber Pressure: 1200 psia
//  =================================================================================

//  Source 1: http://history.nasa.gov/ap12fj/pdf/a12_sa507-flightmanual.pdf
//  Source 2: https://www.nasa.gov/centers/marshall/pdf/499245main_J2_Engine_fs.pdf
//  Source 3: http://www.b14643.de/Spacerockets/Diverse/U.S._Rocket_engines/engines.htm
//  Source 4: http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/19940016798.pdf
//  Source 5: http://www.alternatewars.com/BBOW/Space/Reference_Spacecraft_Engines.htm
//	Source 6: ATSS Final Report Engine Tables
//  ==================================================
@PART[*]:HAS[#engineType[J2]]:FOR[RealismOverhaulEngines]
{
	@title = J-2 Series
	%manufacturer = Rocketdyne
	@description = The Rocketdyne J-2 rocket engine found on the Saturn S-IVB and S-II stages. Ensure you enable roll capability or disable gimbal as required for your application. Diameter: [2.01 m].

	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEngines
		configuration = J-2
		@configuration:NEEDS[RP-0] = J-2-200klbf
		origMass = 1.578501
		modded = false
		CONFIG
		{
			name = J-2-200klbf
			minThrust = 676.66
			maxThrust = 889.325
			heatProduction = 100
			massMult = 1.02
			PROPELLANT
			{
				name = LqdHydrogen
				ratio = 0.7454
				DrawGauge = True
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.2546
			}
			atmosphereCurve
			{
				key = 0 424
				key = 1 200
			}

			%ullage = True
			%pressureFed = False
			%ignitions = 3 //Definately a FIXME right here
			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.500
			}
		}
		CONFIG
		{
			name = J-2
			minThrust = 778.4388
			maxThrust = 1023.091
			heatProduction = 100
			PROPELLANT
			{
				name = LqdHydrogen
				ratio = 0.7454
				DrawGauge = True
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.2546
			}
			atmosphereCurve
			{
				key = 0 424
				key = 1 200
			}

			%ullage = True
			%pressureFed = False
			%ignitions = 3 //Definately a FIXME right here
			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.500
			}
		}
		CONFIG
		{
			name = J-2S
			minThrust = 866.25
			maxThrust = 1138.5
			massMult = 0.973574409
			heatProduction = 100
			PROPELLANT
			{
				name = LqdHydrogen
				ratio = 0.7454
				DrawGauge = True
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.2546
			}
			atmosphereCurve
			{
				key = 0 436
				key = 1 200
			}

			%ullage = True
			%pressureFed = False
			%ignitions = 3 //was to carry three starter cartriges, http://www.astronautix.com/engines/j2s.htm
			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.500
			}
		}
	}

	@MODULE[ModuleGimbal]
	{
		@gimbalRange = 7.5
		%useGimbalResponseSpeed = true
		%gimbalResponseSpeed = 16
	}

	!MODULE[ModuleAlternator],*{}

	!RESOURCE,*{}
}
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[J-2-200klbf]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
	TESTFLIGHT
	{
		name = J-2-200klbf
		ratedBurnTime = 350
		ignitionReliabilityStart = 0.902
		ignitionReliabilityEnd = 0.962
		cycleReliabilityStart = 0.902
		cycleReliabilityEnd = 0.962
	}
}
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[J-2]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
	TESTFLIGHT
	{
		name = J-2
		ratedBurnTime = 475
		ignitionReliabilityStart = 0.9347
		ignitionReliabilityEnd = 0.9947
		cycleReliabilityStart = 0.8879
		cycleReliabilityEnd = 0.9995
		techTransfer = J-2-200klbf:50
	}
}
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[J-2S]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
	TESTFLIGHT
	{
		name = J-2S
		ratedBurnTime = 500
		ignitionReliabilityStart = 0.9434
		ignitionReliabilityEnd = 0.9995
		cycleReliabilityStart = 0.948
		cycleReliabilityEnd = 0.9995
		techTransfer = J-2-200klbf,J-2:50
	}
}
