//  ==================================================
//  Sources:

//  1: http://www.ulalaunch.com/uploads/docs/AtlasVUsersGuide2010.pdf
//  2: http://www.ulalaunch.com/uploads/docs/Published_Papers/Upper_Stages/TheCentaurUpperStageVehicleHistory.pdf
//  3: http://www.ulalaunch.com/uploads/docs/Published_Papers/Supporting_Technologies/DeltaQualificationTestofAerojetHydrazineThrustersforUseonCentaurduringtheLROandLCROSSMissions20095481.pdf

//  ==================================================
//  Atlas V 400 series payload fairing base.

//  Dimensions: 3.75 m x 0.8 m
//  Inert Mass: 45 Kg
//  ==================================================

@PART[RSBfairingAtlasCentaur305]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    @title = Centaur Payload Fairing Base (3.75m)
    @manufacturer = United United Launch Alliance (ULA)
    @description = A 3.75m diameter payload fairing base designed for the Atlas V 400 series Common Centaur.

    @mass = 0.045
    @crashTolerance = 14
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 873.15
}

//  ==================================================
//  Common Centaur.

//  Dimensions: 3.05 m x 10.5 m
//  Gross Mass: 23075 Kg

//  Stage includes the missing Helium bottles that are
//  used for propellant pressurization.
//  ==================================================

@PART[RSBtankAtlasCentaur]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    @title = Common Centaur
    @manufacturer = United United Launch Alliance (ULA)
    @description = The second stage of a Atlas V. Contains guidance capability.

    @crashTolerance = 10
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 873.15

    //  Centaur includes different RCS thrusters, for axis control (40 N) and ullage control (27 N).
    //  We pick the higher thrust for game - play reasons.

    @MODULE[ModuleRCS]
    {
        @thrusterPower = 0.04
        !resourceName = NULL

        PROPELLANT
        {
            name = Hydrazine
            ratio = 1.0
        }

        PROPELLANT
        {
            name = Helium
            ratio = 10.0
            ignoreForIsp = True
        }

        @atmosphereCurve
        {
            @key,0 = 0 235
            @key,1 = 1 85
        }
    }

    @MODULE[ModuleCommand]
    {
        @RESOURCE[ElectricCharge]
        {
            @rate = 0.15
        }
    }

    MODULE
    {
        name = ModuleFuelTanks
        type = ServiceModule
        volume = 58672
        basemass = -1

        //  Centaur fuel 3041 Kg.

        TANK
        {
            name = LqdHydrogen
            amount = 42920
            maxAmount = 42920
        }

        //  Centaur oxidizer 17788 Kg.

        TANK
        {
            name = LqdOxygen
            amount = 15590
            maxAmount = 15590
        }

        //  ACS propellant 155 Kg.

        TANK
        {
            name = Hydrazine
            amount = 155
            maxAmount = 155
        }

        // ACS pressurization ~0.28 Kg.

        TANK
        {
            name = Helium
            amount = 1550
            maxAmount = 1550
        }
    }

    !RESOURCE,*{}

    //  Batteries 4.3 kWh.

    RESOURCE
    {
        name = ElectricCharge
        amount = 4300
        maxAmount = 4300
    }
}

//  ==================================================
//  Common Centaur.

//  Remote Tech compatibility.
//  ==================================================

@PART[RSBtankAtlasCentaur]:AFTER[RealismOverhaul]:NEEDS[RemoteTech]
{
    @MODULE[ModuleSPU]
    {
        @IsRTCommandStation = False
        @RTCommandMinCrew = 0
    }
	
    @MODULE[ModuleRTAntennaPassive]
    {
        @name = ModuleRTAntenna
        !OmniRange = NULL
        !TechRequired = NULL
        %IsRTActive = True
        %Mode0OmniRange = 0
        %Mode1OmniRange = 1000000
        %EnergyCost = 0.05
    }
}

//  ==================================================
//  Atlas 400 series interstage adapter.

//  Dimensions: 3.81 m x 4.1 m
//  Inert Mass: 955 Kg

//  The mass is the average value between the SEC and
//  the DEC versions.
//  ==================================================

@PART[RSBinterstageAtlasCentaur400]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    @title = Atlas V 400 Interstage Adapter
    @manufacturer = United United Launch Alliance (ULA)
    @description = The interstage structural adapter for the Atlas V 400 series.

    @mass = 0.955
    @crashTolerance = 16
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 873.15

    @MODULE[ModuleDecouple]
    {
        @ejectionForce = 0
    }
}

//  ==================================================
//  Atlas V Common Core Booster (CCB).

//  Dimensions: 3.81 m x 29 m
//  Gross Mass: 299490 Kg
//  ==================================================

@PART[RSBtankAtlasVcore]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    @title =  Atlas V Common Core Booster
    @manufacturer = United United Launch Alliance (ULA)
    @description = This common booster core can either function as a single core, or center core, or strap-on booster.

    @mass = 15.4
    @crashTolerance = 12
    @maxTemp = 773.15
    %skinMaxTemp = 873.15
    @breakingForce = 250
    @breakingTorque = 250

    MODULE
    {
        name = ModuleFuelTanks
        type = Default
        volume = 275182
        basemass = -1

        //  CCB fuel 76367 Kg.

        TANK
        {
            name = Kerosene
            amount = 93131
            maxAmount = 93131
        }

        //  CCB oxidizer 207720 Kg.

        TANK
        {
            name = LqdOxygen
            amount = 182051
            maxAmount = 182051
        }
    }

    !RESOURCE,*{}

    //  Batteries 150 Wh.

    RESOURCE
    {
        name = ElectricCharge
        amount = 150
        maxAmount = 150
    }
}
