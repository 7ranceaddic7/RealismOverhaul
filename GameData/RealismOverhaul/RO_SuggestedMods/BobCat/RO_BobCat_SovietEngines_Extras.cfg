+PART[RD0120]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	@name = RD270

    %fx_exhaustFlame_blue = 0.0, -2.728, 0.0, 0.0, 1.364, 0.0, running
    %fx_exhaustFlame_blue = 0.0, -2.728, 0.0, 0.0, 1.364, 0.0, running
    %fx_exhaustLight_blue = 0.0, -2.728, 0.0, 0.0, 0.0, 1.364, running
    %fx_exhaustLight_blue = 0.0, -2.728, 0.0, 0.0, 0.0, 1.364, running
    %fx_smokeTrail_light = 0.0, -2.728, 0.0, 0.0, 1.364, 0.0, running
    %fx_smokeTrail_light = 0.0, -2.728, 0.0, 0.0, 1.364, 0.0, running
    %fx_smokeTrail_light = 0.0, -2.728, 0.0, 0.0, 1.364, 0.0, running
    %fx_exhaustSparks_flameout = 0.0, -2.728, 0.0, 0.0, 1.364, 0.0, flameout
    %sound_vent_medium = engage
    %sound_rocket_hard = running
    %sound_vent_soft = disengage
    %sound_explosion_low = flameout

	%RSSROConfig = True
	%rescaleFactor = 1.364
	%node_stack_top = 0.0, 2.60529, 0, 0.0, 1.0, 0.0, 2
	%node_stack_bottom = 0.0, -2.420039, 0, 0.0, -1.0, 0.0, 2
	!node_attach = DELETE
	%attachRules = 1,0,1,0,0
	%mass = 4.47
	%maxTemp = 2123.15
	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesFX
		%maxThrust = 6272
		%minThrust = 6272
		%heatProduction = 205
		@atmosphereCurve
		{
			@key,0 = 0 322
			@key,1 = 1 301
		}
		@PROPELLANT[LiquidFuel]
		{
			@name = UDMH
			@ratio = 0.468
		}
		@PROPELLANT[Oxidizer]
		{
			@name = NTO
			@ratio = 0.532
		}
	}
	@engineType = RD270
}

+PART[RD0120]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	@name = RD270M

    %fx_exhaustFlame_blue = 0.0, -2.728, 0.0, 0.0, 1.364, 0.0, running
    %fx_exhaustFlame_blue = 0.0, -2.728, 0.0, 0.0, 1.364, 0.0, running
    %fx_exhaustLight_blue = 0.0, -2.728, 0.0, 0.0, 0.0, 1.364, running
    %fx_exhaustLight_blue = 0.0, -2.728, 0.0, 0.0, 0.0, 1.364, running
    %fx_smokeTrail_light = 0.0, -2.728, 0.0, 0.0, 1.364, 0.0, running
    %fx_smokeTrail_light = 0.0, -2.728, 0.0, 0.0, 1.364, 0.0, running
    %fx_smokeTrail_light = 0.0, -2.728, 0.0, 0.0, 1.364, 0.0, running
    %fx_exhaustSparks_flameout = 0.0, -2.728, 0.0, 0.0, 1.364, 0.0, flameout
    %sound_vent_medium = engage
    %sound_rocket_hard = running
    %sound_vent_soft = disengage
    %sound_explosion_low = flameout

	%RSSROConfig = True
	%rescaleFactor = 1.364
	%node_stack_top = 0.0, 2.60529, 0, 0.0, 1.0, 0.0, 2
	%node_stack_bottom = 0.0, -2.420039, 0, 0.0, -1.0, 0.0, 2
	!node_attach = DELETE
	%attachRules = 1,0,1,0,0
	%mass = 4.47
	%maxTemp = 2123.15
	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesFX
		%maxThrust = 7159
		%minThrust = 7159
		%heatProduction = 205
		@atmosphereCurve
		{
			@key,0 = 0 365
			@key,1 = 1 340
		}
		@PROPELLANT[LiquidFuel]
		{
			@name = Pentaborane
			@ratio = 0.468
		}
		@PROPELLANT[Oxidizer]
		{
			@name = NTO
			@ratio = 0.532
		}
	}
	@engineType = RD270M
}


// NK-9, 9V, and 21/19/31/39.
+PART[NK33]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	@name = NK9

	%RSSROConfig = True
	%rescaleFactor = 0.5
	%node_stack_top = 0.0, 2.352854, 0.0, 0.0, 1.0, 0.0, 1
	%node_stack_bottom = 0.0, -1.589812, 0.0, 0.0, -1.0, 0.0, 1
	!node_attach = DELETE
	%title = NK-9 [1.8 m]
	%manufacturer = SNTK Kuznetsov
	%description = Staged combustion kerolox booster engine. Designed by Kuznetsov for the Korolev GR-1 projet. Basis for the NK-15 used on the N1, and the NK-33 used today.
	%attachRules = 1,0,1,0,0
	%mass = 0.316 // guess TWR of 120
	%maxTemp = 2123.15
	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
		ullage = True
		ignitions = 1
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.5
		}
	}
	!MODULE[ModuleEngineConfigs] { }
	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEngines
		origMass = 0.36 // Guess a TWR of 120
		engineType = L
		configuration = NK-9
		modded = false
		CONFIG
		{
            name = NK-9
            maxThrust = 421 // sources differ. Nautix says 441kN for the engine, but 421kN for the GR-1's stage. b14643 claims only 373kN. Also it claims only SL Isp of 259, not 280. We'll use it for Isp.
            minThrust = 421
            heatProduction = 205
            PROPELLANT
			{
				name = Kerosene
				ratio = 0.35574
				DrawGauge = true
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.64426
			}
            atmosphereCurve
            {
                key = 0 328
                key = 1 259
            }
			massMult = 1.0
		}
	}
	@MODULE[ModuleGimbal]
	{
		%gimbalRange = 8
		%useGimbalResponseSpeed = true
		%gimbalResponseSpeed = 16
	}
	!MODULE[ModuleAlternator] { }
	!RESOURCE[ElectricCharge] { }
}
+PART[NK43]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	@name = NK9V

	%RSSROConfig = True
	%rescaleFactor = 0.5
	%node_stack_top = 0.0, 2.352854, 0.0, 0.0, 1.0, 0.0, 1
	%node_stack_bottom = 0.0, -2.711397, 0.0, 0.0, -1.0, 0.0, 1
	!node_attach = DELETE
	%title = NK-9V/19/31 [1.8 m]
	%manufacturer = SNTK Kuznetsov
	%attachRules = 1,0,1,0,0
	%description = Staged combustion kerolox upper/vacuum engine. Designed by Kuznetsov for the Korolev GR-1 projet. Reused (as NK-19) on the N1, upgraded for the N1F with restart capability as NK-31.
	%mass = 0.45
	%maxTemp = 2123.15
	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
		ullage = True
		ignitions = 1
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.5
		}
	}
	!MODULE[ModuleEngineConfigs] { }
	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEngines
		origMass = 0.45 // Guess, based off larger nozzle.
		engineType = U+
		configuration = NK-9V
		modded = false
		CONFIG
		{
            name = NK-9V
            maxThrust = 451.1 // b14643
            minThrust = 451.1
            heatProduction = 205
            PROPELLANT
			{
				name = Kerosene
				ratio = 0.35574
				DrawGauge = true
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.64426
			}
            atmosphereCurve
            {
                key = 0 345
                key = 1 240 // astronautix, GR-1 entry
            }
			massMult = 1.0
			ignitions = 1
		}
		CONFIG
		{
            name = NK-31
            maxThrust = 402 // b14643
            minThrust = 402
            heatProduction = 205
            PROPELLANT
			{
				name = Kerosene
				ratio = 0.332
				DrawGauge = true
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.668
			}
            atmosphereCurve
            {
                key = 0 353
                key = 1 220 // guess
            }
			massMult = 1.6
			cost = 150
			techRequired = precisionPropulsion
		}
	}
	@MODULE[ModuleGimbal]
	{
		%gimbalRange = 5
		%useGimbalResponseSpeed = true
		%gimbalResponseSpeed = 16
	}
	!MODULE[ModuleAlternator] { }
	!RESOURCE[ElectricCharge] { }
}
