//  ==================================================
//  Sources:

//  NSSDC - The Venera Soviet Missions to Venus: http://nssdc.gsfc.nasa.gov/planetary/venera.html

//  ==================================================
//  Pioneer 10 & 11 Science Package.

//  Dimensions: 1.25 m x 0.6 m
//  Inert Mass: 10 Kg
//  ==================================================

@PART[ca_ESM]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    @MODEL
    {
        %scale = 1.6, 1.6, 1.6
    }

    %scale = 1.0
    @rescaleFactor = 1.0

    @category = Science
    @title = Pioneer 10/11 Science Package
    @manufacturer = Generic
    @description = An integrated science package originally designed for the Pioneer 10 & 11 deep space probes. Includes a thermal control system with a thermal rejection capability of 50 Watts.

    @mass = 0.01
    @crashTolerance = 10
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 473.15
    %fuelCrossFeed = True
    @radiatorHeadroom = 0.6129
    @tags ^= :$: pioneer science

    !MODULE[ModuleReactionWheel],*{}

    @MODULE[ModuleActiveRadiator]
    {
        @maxEnergyTransfer = 2.5
        @overcoolFactor = 0.6129
        @isCoreRadiator = True
        @maxLinksAway = 2

        @RESOURCE[ElectricCharge]
        {
            @rate = 0.004
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Venera main parachute.

//  Dimensions: 2.4 m x - m (with the shroud)
//  Inert Mass: 150 Kg

//  * The inert mass value assumes that the shroud is
//    not massless and part of the aeroshell structure.
//  * The part max temperature has been set high due
//    to an occlusion checker issue.
//  ==================================================

@PART[ca_fom_parachute]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    @MODEL
    {
        %scale = 1.6, 1.6, 1.6
    }

    %scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_bottom = 0.0, 0.0, 0.0, 0.0, -1.0, 0.0, 2

    @title = Venera Lander Aeroshell (Parachute Pack)
    @manufacturer = NPO Lavochkin
    @description = This part is the top cover of the Venera atmospheric entry capsule. The parachute attaches directly to the Venera lander for deployment after re-entry and before the aeroshell separation.

    @mass = 0.15
    @crashTolerance = 10
    @maxTemp = 3773.15
    %skinMaxTemp = 3773.15
    %fuelCrossFeed = False
    @stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = PARACHUTES
    @bulkheadProfiles = size2
    %rescaleCube = True
    %gTolerance = 450

    @MODULE[ModuleParachute]
    {
        @autoCutSpeed = 0.5
        @stowedDrag = 0.22
        @semiDeployedDrag = 1
        @fullyDeployedDrag = 500
        @minAirPressureToOpen = 0.04
        @clampMinAirPressure = 0.04
        @deployAltitude = 1000
        @deploymentSpeed = 1
        @semiDeploymentSpeed = 1
        @chuteMaxTemp = 573.15
    }

    @MODULE[ModuleDragModifier]:HAS[#dragCubeName[SEMIDEPLOYED]]
    {
        @dragModifier = 2.0
    }

    @MODULE[ModuleDragModifier]:HAS[#dragCubeName[DEPLOYED]]
    {
        @dragModifier = 20.0
    }

    @MODULE[ModuleJettison]
    {
        @jettisonedObjectMass = 0.1
        @jettisonForce = 2.5
        @jettisonDirection = 0 0 1
    }

    @DRAG_CUBE
    {
        %rescaleX = 1.6
        %rescaleY = 1.6
        %rescaleZ = 1.6
    }
}

//  ==================================================
//  Venera main parachute.

//  RealChute compatibility.
//  ==================================================

@PART[ca_fom_parachute]:FOR[RealismOverhaul]:NEEDS[RealChute]
{
    !sound_parachute_* = NULL

    @category = none

    !MODULE[ModuleParachute],*{}

    !MODULE[RealChute*],*{}

    MODULE
    {
        name = RealChuteModule
        caseMass = 0.15
        cutSpeed = 0.5
        mustGoDown = True
        deployOnGround = False
        spareChutes = 0
        chuteCount = 0
        stagingEnabled = True

        PARACHUTE
        {
            parachuteName = canopy
            capName = cap
            preDeploymentAnimation = semiDeploy
            deploymentAnimation = fullDeploy
            material = Nylon
            preDeploymentSpeed = 2.5
            deploymentSpeed = 5.0
            preDeployedDiameter = 2.2
            deployedDiameter = 4.3
            minIsPressure = False
            minPressure = 0.01
            minDeployment = 65000
            deploymentAlt = 50000
            cutAlt = 0
        }
    }
}
