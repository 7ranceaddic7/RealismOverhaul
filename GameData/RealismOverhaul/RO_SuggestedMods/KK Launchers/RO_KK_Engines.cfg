// ============================================================
// Laucnhers Pack RO configs Merlin Block 2 & 3 engines

// Source:
// IAC Report:    http://iacse.commercial-space.net/wp-content/uploads/2008/10/iac-08d213.pdf
// Astronautix:   http://www.astronautix.com/m/merlin1c.html
// SpaceX:        https://web.archive.org/web/20130715094112/http://www.spacex.com/falcon9#merlin_engine

// ============================================================

// ======================================
// Merlin 1C
// ======================================

@PART[KK_SPX_Merlin1C]:FOR[RealismOverhaul]{
  RSSROConfig = True

  @manufacturer = SpaceX
  @mass = .378

  @MODULE[ModuleEnginesFX] {

		@minThrust = 240
    @maxThrust = 400
		%heatProduction = 225
		%massMult = 0.6447
		%ullage = True
		%pressureFed = False
		%ignitions = 1

		!PROPELLANT,*{}
		!atmosphereCurve,*{}

		PROPELLANT{
			name = Kerosene
			ratio = 0.3709
			DrawGauge = True
		}

		PROPELLANT{
			name = LqdOxygen
			ratio = 0.6291
			DrawGauge = False
		}

		atmosphereCurve{
			key = 0 304.8
			key = 1 275
		}

		IGNITOR_RESOURCE{
			name = ElectricCharge
			amount = 0.5
		}

    @MODULE[ModuleGimbal]{
      @gimbalRange = 5
    }
  }
}

// ======================================
// Merlin 1C Vacuum
// ======================================

@PART[KK_SPX_Merlin1CV]:FOR[RealismOverhaul]{
  RSSROConfig = True

  @manufacturer = SpaceX
  @mass = .378

  !MODULE[ModuleEngines*],*{}
  !MODULE[ModuleGimbal],*{}

  MODULE {

    name = ModuleEnginesFX
		minThrust = 240
    maxThrust = 400
		heatProduction = 225
		massMult = 0.6447
		ullage = True
		pressureFed = False
		ignitions = 4

		!PROPELLANT,*{}
		!atmosphereCurve,*{}

		PROPELLANT{
			name = Kerosene
			ratio = 0.3709
			DrawGauge = True
		}

		PROPELLANT{
			name = LqdOxygen
			ratio = 0.6291
			DrawGauge = False
		}

		atmosphereCurve{
			key = 0 304.8
			key = 1 275
		}

		IGNITOR_RESOURCE{
			name = ElectricCharge
			amount = 0.5
		}

    MODULE{
      name = ModuleGimbal
      gimbalRange = 5
    }
  }
}

// ======================================
// Merlin 1D
// ======================================

@PART[KK_SPX_Merlin1D]:FOR[RealismOverhaul]{
  RSSROConfig = True

  @manufacturer = SpaceX
  @mass = .47

  @MODULE[ModuleEnginesFX] {

		@minThrust = 483
    @maxThrust = 690
		%heatProduction = 225
		%massMult = 0.6447
		%ullage = True
		%pressureFed = False
		%ignitions = 1

		!PROPELLANT,*{}
		!atmosphereCurve,*{}

		PROPELLANT{
			name = Kerosene
			ratio = 0.3709
			DrawGauge = True
		}

		PROPELLANT{
			name = LqdOxygen
			ratio = 0.6291
			DrawGauge = False
		}

		atmosphereCurve{
			key = 0 311
			key = 1 282
		}

		IGNITOR_RESOURCE{
			name = ElectricCharge
			amount = 0.5
		}

    @MODULE[ModuleGimbal]{
      @gimbalRange = 5
    }
  }
}

// ======================================
// Merlin 1D 1.1+
// ======================================

@PART[KK_SPX_Merlin1D+]:FOR[RealismOverhaul]{
  RSSROConfig = True

  @manufacturer = SpaceX
  @mass = .47

  @MODULE[ModuleEnginesFX] {

		@minThrust = 504
    @maxThrust = 720
		%heatProduction = 225
		%massMult = 0.6447
		%ullage = True
		%pressureFed = False
		%ignitions = 1

		!PROPELLANT,*{}
		!atmosphereCurve,*{}

		PROPELLANT{
			name = Kerosene
			ratio = 0.3709
			DrawGauge = True
		}

		PROPELLANT{
			name = LqdOxygen
			ratio = 0.6291
			DrawGauge = False
		}

		atmosphereCurve{
			key = 0 311
			key = 1 282
		}

		IGNITOR_RESOURCE{
			name = ElectricCharge
			amount = 0.5
		}

    @MODULE[ModuleGimbal]{
      @gimbalRange = 5
    }
  }
}

// ======================================
// Merlin 1D Vacuum
// ======================================

@PART[KK_SPX_Merlin1DV]:FOR[RealismOverhaul]{
  RSSROConfig = True

  @manufacturer = SpaceX
  @mass = .47

  @MODULE[ModuleEnginesFX] {

		@minThrust = 504
    @maxThrust = 845
		%heatProduction = 225
		%massMult = 0.6447
		%ullage = True
		%pressureFed = False
		%ignitions = 4

		!PROPELLANT,*{}
		!atmosphereCurve,*{}

		PROPELLANT{
			name = Kerosene
			ratio = 0.3709
			DrawGauge = True
		}

		PROPELLANT{
			name = LqdOxygen
			ratio = 0.6291
			DrawGauge = False
		}

		atmosphereCurve{
			key = 0 348
			key = 1 282
		}

		IGNITOR_RESOURCE{
			name = ElectricCharge
			amount = 0.5
		}

    @MODULE[ModuleGimbal]{
      @gimbalRange = 5
    }
  }
}

// ======================================
// Raptor Engines
// Updated exisiting configs for the new parts
// ======================================

// ======================================
// Raptor (old)
// ======================================

@PART[KK_SpaceX_Raptor]:FOR[RealismOverhaul]{
  RSSROConfig = True

  @manufacturer = SpaceX

  !MODULE[ModuleAlternator]{}
  !RESOURCE,*{}

  @MODULE[ModuleEnginesFX]{

    @minThrust = 659.4
    @maxThrust = 3297

    !PROPELLANT,*{}
    !atmosphereCurve

    PROPELLANT // Ratio = 3.8
    {
      name = LqdMethane
      ratio = 0.4137
      DrawGauge = true
    }
    PROPELLANT
    {
      name = LqdOxygen
      ratio = 0.5863
    }
    atmosphereCurve
    {
      key = 0 361
      key = 1 334
    }

    ullage = True
    pressureFed = False
    ignitions = 5

    IGNITOR_RESOURCE
    {
      name = ElectricCharge
      amount = 0.5
    }
  }
}

// ======================================
// Raptor Vacuum
// ======================================

@PART[KK_SpaceX_Raptor_Vac]:FOR[RealismOverhaul]{
  RSSROConfig = True

  @manufacturer = SpaceX

  !MODULE[ModuleAlternator]{}
  !RESOURCE,*{}

  @MODULE[ModuleEnginesFX]{
    @minThrust = 700
    @maxThrust = 3500

    !PROPELLANT,*{}
    !atmosphereCurve

    PROPELLANT // Ratio = 3.8
    {
      name = LqdMethane
      ratio = 0.4137
      DrawGauge = true
    }
    PROPELLANT
    {
      name = LqdOxygen
      ratio = 0.5863
    }
    atmosphereCurve
    {
      key = 0 382
      key = 1 280
    }

    ullage = True
    pressureFed = False
    ignitions = 4

    IGNITOR_RESOURCE
    {
      name = ElectricCharge
      amount = 0.5
    }
  }
}

// ======================================
// Raptor center cluster
// ======================================

@PART[KK_SpaceX_Raptor_centerCluster]:FOR[RealismOverhaul]{
  RSSROConfig = True

  @manufacturer = SpaceX

  !MODULE[ModuleAlternator]{}
  !RESOURCE,*{}

  @MODULE[ModuleEnginesFX]{
    @minThrust = 4600
    @maxThrust = 23000

    !PROPELLANT,*{}
    !atmosphereCurve

    PROPELLANT // Ratio = 3.8
    {
      name = LqdMethane
      ratio = 0.4137
      DrawGauge = true
    }
    PROPELLANT
    {
      name = LqdOxygen
      ratio = 0.5863
    }
    atmosphereCurve
    {
      key = 0 360
      key = 1 334
    }

    ullage = True
    pressureFed = False
    ignitions = 1

    IGNITOR_RESOURCE
    {
      name = ElectricCharge
      amount = 0.5
    }
  }
}

// ======================================
// Raptor inner cirlce
// ======================================

@PART[KK_SpaceX_Raptor_innerCircle]:FOR[RealismOverhaul]{
  RSSROConfig = True

  @manufacturer = SpaceX

  !MODULE[ModuleAlternator]{}
  !RESOURCE,*{}

  @MODULE[ModuleEnginesFX]{
    @minThrust = 9201
    @maxThrust = 46004

    !PROPELLANT,*{}
    !atmosphereCurve

    PROPELLANT // Ratio = 3.8
    {
      name = LqdMethane
      ratio = 0.4137
      DrawGauge = true
    }
    PROPELLANT
    {
      name = LqdOxygen
      ratio = 0.5863
    }
    atmosphereCurve
    {
      key = 0 360
      key = 1 334
    }

    ullage = True
    pressureFed = False
    ignitions = 1

    IGNITOR_RESOURCE
    {
      name = ElectricCharge
      amount = 0.5
    }
  }
}

// ======================================
// Raptor Outer cirlce
// ======================================

@PART[KK_SpaceX_Raptor_outerCircle]:FOR[RealismOverhaul]{
  RSSROConfig = True

  @manufacturer = SpaceX

  !MODULE[ModuleAlternator]{}
  !RESOURCE,*{}

  @MODULE[ModuleEnginesFX]{
    @minThrust = 13801
    @maxThrust = 69006

    !PROPELLANT,*{}
    !atmosphereCurve

    PROPELLANT // Ratio = 3.8
    {
      name = LqdMethane
      ratio = 0.4137
      DrawGauge = true
    }
    PROPELLANT
    {
      name = LqdOxygen
      ratio = 0.5863
    }
    atmosphereCurve
    {
      key = 0 360
      key = 1 334
    }

    ullage = True
    pressureFed = False
    ignitions = 1

    IGNITOR_RESOURCE
    {
      name = ElectricCharge
      amount = 0.5
    }
  }
}
