// =========================================
// Dragon Capsule + Falcon 9 1.0 + Falcon 9 1.1

// Sources:

// Falcon 9 1.0 User Guide:           https://www.spaceflightnow.com/falcon9/001/f9guide.pdf
// Falcon 9 data sheet:               http://www.spacelaunchreport.com/falcon9.html#f9v1-0log
// Falcon 9 1.1 space flight data :   http://www.spaceflight101.net/falcon-9-v11.html
// =========================================

// ==============================
// Dragon Capsule
// his model isn't finished. Leave this commented out until KK has finished it proper.
// ==============================

//@PART[KK_SPX_DragonCargo_mockup]:FOR[RealismOverhaul]{
  //%RSSROConfig = true

  //@manufacturer = SpaceX

  //@MODULE[ModuleCommand]{
    //@RESOURCE[ElectricCharge]{
      //@rate = 0.5
    //}
  //}

  //@RESOURCE[ElectricCharge]{
    //@amount = 4000
    //@maxAmount = 4000
  //}
//}

// ==============================
// Falcon 9 1.0 Engine Section
// ==============================

@PART[KK_SPX_F91_enginesec]:FOR[RealismOverhaul]{
  %RSSROConfig = True

  @manufacturer = SpaceX
}

// ==============================
// Falcon 9 1.0 Interstage
// ==============================

@PART[KK_SPX_F91_interstage]:FOR[RealismOverhaul]{
  %RSSROConfig = True

  @manufacturer = SpaceX
}

// ==============================
// Falcon 9 1.0 Main Fuel Tank
// ==============================

@PART[KK_SPX_F91_S1tank]:FOR[RealismOverhaul]{
  %RSSROConfig = True

  @manufacturer = SpaceX
  @mass = 19.24

  !RESOURCE,*{}

  MODULE{
    name = ModuleFuelTanks
    volume = 240351
    type = Cryogenic

    TANK{
      name = Kerosene
      amount = full
      maxAmount = 108473
    }

    TANK{
      name = LqdOxygen
      amount = full
      maxAmount = 131878
    }
  }
}

// ==============================
// Falcon 9 1.0 Main Fuel Tank
// ==============================

@PART[KK_SPX_F91_S2tank]:FOR[RealismOverhaul]{
  %RSSROConfig = True

  @manufacturer = SpaceX
  @mass = 3.1

  !RESOURCE,*{}

  @MODULE[ModuleRCSFX]{
    @thrusterPower = .4
    !resourceName = NULL

    PROPELLANT{

			name = MMH
			ratio = 1.0
		}

		PROPELLANT{

			name = NTO
			ratio = 1.6
		}

		@atmosphereCurve
        {
            @key,0 = 0 300
            @key,1 = 1 85
        }
  }

  MODULE{
    name = ModuleFuelTanks
    volume = 49634.8
    type = Cryogenic

    TANK{
      name = Kerosene
      amount = full
      maxAmount = 22166.1
    }

    TANK{
      name = LqdOxygen
      amount = full
      maxAmount = 26948.7
    }

    TANK{
			name = NTO
			amount = full
			maxAmount = 200
		}

		TANK{
			name = MMH
			amount = full
			maxAmount = 320
		}
  }

  MODULE
	{
		name = ModuleCommand
		minimumCrew = 0

		RESOURCE
		{
			name = ElectricCharge
			rate = 0.2
		}
	}
	MODULE
	{
		name = ModuleProbeControlPoint
		minimumCrew = 1
		multiHop = False
	}
	MODULE
	{
		name = ModuleKerbNetAccess
		MinimumFoV = 5
		MaximumFoV = 90
		AnomalyDetection = 0.3
		DISPLAY_MODES
		{
			Mode = Biome
			Mode = Terrain
		}
	}
	MODULE
	{
		name = ModuleDataTransmitter
		antennaType = INTERNAL
		packetInterval = 1.0
		packetSize = 2
		packetResourceCost = 12.0
		requiredResource = ElectricCharge
		antennaPower = 5000
		optimumRange = 2500
		packetFloor = .1
		packetCeiling = 5
	}
	RESOURCE
	{
		name = ElectricCharge
		amount = 4000
		maxAmount = 4000
	}

	MODULE
	{
		name = ModuleSAS
		SASServiceLevel = 3
	}
}

// ==============================
// Falcon 9 1.1 Interstage
// ==============================

@PART[KK_SPX_F92_interstage]:FOR[RealismOverhaul]{
  %RSSROConfig = True

  @manufacturer = SpaceX
}

// ==============================
// Falcon 9 1.1 Main Fuel Tank
// ==============================

@PART[KK_SPX_F92_S1tank]:FOR[RealismOverhaul]{
  %RSSROConfig = True

  @manufacturer = SpaceX
  @mass = 24.7
  @description = Main fuel tank of the Falcon 9 Block 3.

  !RESOURCE,*{}

  MODULE{
    name = ModuleFuelTanks
    volume = 336874
    type = Cryogenic

    TANK{
      name = Kerosene
      amount = full
      maxAmount = 152035
    }

    TANK{
      name = LqdOxygen
      amount = full
      maxAmount = 184839
    }
  }
}

// ==============================
// Falcon 9 1.1 Upper Fuel Tank
// ==============================

@PART[KK_SPX_F92_S2tank]:FOR[RealismOverhaul]{
  %RSSROConfig = True

  @manufacturer = SpaceX
  @mass = 3.1

  !RESOURCE,*{}

  @MODULE[ModuleRCSFX]{
    @thrusterPower = .4
    !resourceName = NULL

    PROPELLANT{

			name = MMH
			ratio = 1.0
		}

		PROPELLANT{

			name = NTO
			ratio = 1.6
		}

		@atmosphereCurve
        {
            @key,0 = 0 300
            @key,1 = 1 85
        }
  }

  MODULE{
    name = ModuleFuelTanks
    volume = 49634.8
    type = Cryogenic

    TANK{
      name = Kerosene
      amount = full
      maxAmount = 22166.1
    }

    TANK{
      name = LqdOxygen
      amount = full
      maxAmount = 26948.7
    }

    TANK{
			name = NTO
			amount = full
			maxAmount = 200
		}

		TANK{
			name = MMH
			amount = full
			maxAmount = 320
		}
  }

  MODULE
	{
		name = ModuleCommand
		minimumCrew = 0

		RESOURCE
		{
			name = ElectricCharge
			rate = 0.2
		}
	}
	MODULE
	{
		name = ModuleProbeControlPoint
		minimumCrew = 1
		multiHop = False
	}
	MODULE
	{
		name = ModuleKerbNetAccess
		MinimumFoV = 5
		MaximumFoV = 90
		AnomalyDetection = 0.3
		DISPLAY_MODES
		{
			Mode = Biome
			Mode = Terrain
		}
	}
	MODULE
	{
		name = ModuleDataTransmitter
		antennaType = INTERNAL
		packetInterval = 1.0
		packetSize = 2
		packetResourceCost = 12.0
		requiredResource = ElectricCharge
		antennaPower = 5000
		optimumRange = 2500
		packetFloor = .1
		packetCeiling = 5
	}
	RESOURCE
	{
		name = ElectricCharge
		amount = 4000
		maxAmount = 4000
	}

	MODULE
	{
		name = ModuleSAS
		SASServiceLevel = 3
	}
}

// ==============================
// Falcon 9 1.1 Interstage RCS
// ==============================

@PART[KK_SPX_F9FT_Interstage_RCS]:FOR[RealismOverhaul]{
  %RSSROConfig = True

  @manufacturer = SpaceX

  @MODULE[ModuleRCSFX]{
    @thrusterPower = .4
    !resourceName = NULL

    PROPELLANT{

			name = MMH
			ratio = 1.0
		}

		PROPELLANT{

			name = NTO
			ratio = 1.6
		}

		@atmosphereCurve
        {
            @key,0 = 0 300
            @key,1 = 1 85
        }
  }
}

// ==============================
// Falcon 9 Interstage RCS Unit
// ==============================

@PART[KK_SPX_F912_Interstage_RCS]:FOR[RealismOverhaul]{
  %RSSROConfig = True

  @manufacturer = SpaceX

  @MODULE[ModuleRCSFX]{
    @thrusterPower = .4
    !resourceName = NULL

    PROPELLANT{

			name = MMH
			ratio = 1.0
		}

		PROPELLANT{

			name = NTO
			ratio = 1.6
		}

		@atmosphereCurve
        {
            @key,0 = 0 300
            @key,1 = 1 85
        }
  }
}

// ==============================
// Falcon 9R Nosecone
// ==============================

@PART[KK_SpaceX_F9R_nosecone]:FOR[RealismOverhaul]{
  RSSROConfig = True

  @manufacturer = SpaceX
}

// ==============================
// Falcon 9 Gridfin
// ==============================

@PART[KK_SPX_FalconGridfin]:FOR[RealismOverhaul]{
  RSSROConfig = True

  @manufacturer = SpaceX
}
